library(quantmod)
# Download data from yahoo Finance!
start.date = '2021-10-01' # starting date of stock
end.date = '2023-11-30' # ending date of stock
# Download the selected stocks from Yahoo finance using `quantmod` package
getSymbols("DJI", src = "yahoo", from = start.date, to = end.date, auto.assign = TRUE)

# Get close price 
close_price = DJI$DJI.Close
head(close_price)

# Create date variable
DJI <- zoo::fortify.zoo(DJI)
DJI <- DJI %>% rename(c("Date" = "Index", "Close" = "DJI.Close"))

# create a tsibble 
DJI<- as_tsibble(DJI, index = Date)

DJI <- DJI |>
mutate(day = row_number()) |>
update_tsibble(index = day, regular = TRUE) 

DJI
